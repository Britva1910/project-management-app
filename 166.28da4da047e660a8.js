"use strict";(self.webpackChunkproject_management_app=self.webpackChunkproject_management_app||[]).push([[166],{3166:(K,u,l)=>{l.r(u),l.d(u,{AuthPageModule:()=>F});var c=l(6895),p=(()=>{return(o=p||(p={}))[o.Login=0]="Login",o[o.SignUp=1]="SignUp",p;var o})(),n=l(4650),g=l(7337),m=l(5707),f=l(3848),i=l(4006),d=l(6132),_=l(4261),h=l(4859),s=l(9549),x=l(4144),v=l(7392);function w(o,e){if(1&o&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&o){const t=n.oxw(2).$implicit;n.xp6(1),n.Oqu(t("auth.login.login-plh"))}}function Z(o,e){if(1&o&&(n.TgZ(0,"div"),n._uU(1),n.qZA()),2&o){const t=n.oxw(2).$implicit;n.xp6(1),n.hij(" ",t("forms.errors.lengthLogin")," ")}}function T(o,e){if(1&o&&(n.TgZ(0,"mat-error"),n.YNc(1,w,2,1,"span",4),n.YNc(2,Z,2,1,"div",4),n.qZA()),2&o){const t=n.oxw(2);n.xp6(1),n.Q6J("ngIf",null==t.login.errors?null:t.login.errors.required),n.xp6(1),n.Q6J("ngIf",null==t.login.errors?null:t.login.errors.minlength)}}function C(o,e){if(1&o&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&o){const t=n.oxw(2).$implicit;n.xp6(1),n.Oqu(t("auth.login.password-plh"))}}function I(o,e){if(1&o&&(n.TgZ(0,"div"),n._uU(1),n.qZA()),2&o){const t=n.oxw(2).$implicit;n.xp6(1),n.hij(" ",t("forms.errors.lengthPass")," ")}}function U(o,e){if(1&o&&(n.TgZ(0,"mat-error"),n.YNc(1,C,2,1,"span",4),n.YNc(2,I,2,1,"div",4),n.qZA()),2&o){const t=n.oxw(2);n.xp6(1),n.Q6J("ngIf",null==t.password.errors?null:t.password.errors.required),n.xp6(1),n.Q6J("ngIf",null==t.password.errors?null:t.password.errors.minlength)}}function b(o,e){if(1&o){const t=n.EpF();n.TgZ(0,"form",1)(1,"mat-form-field",2),n._UZ(2,"input",3),n.YNc(3,T,3,2,"mat-error",4),n.qZA(),n.TgZ(4,"mat-form-field",5)(5,"mat-label"),n._uU(6),n.qZA(),n._UZ(7,"input",6),n.YNc(8,U,3,2,"mat-error",4),n.TgZ(9,"button",7),n.NdJ("click",function(){n.CHM(t);const a=n.oxw();return n.KtG(a.hide=!a.hide)}),n.TgZ(10,"mat-icon"),n._uU(11),n.qZA()()(),n.TgZ(12,"button",8),n.NdJ("click",function(){n.CHM(t);const a=n.oxw();return n.KtG(a.onSubmit())}),n._uU(13),n.qZA()()}if(2&o){const t=e.$implicit,r=n.oxw();n.Q6J("formGroup",r.form),n.xp6(2),n.Q6J("placeholder",t("auth.login.login-plh")),n.xp6(1),n.Q6J("ngIf",r.login.invalid),n.xp6(3),n.Oqu(t("auth.login.password-plh")),n.xp6(1),n.Q6J("type",r.hide?"password":"text"),n.xp6(1),n.Q6J("ngIf",r.password.invalid),n.xp6(1),n.uIk("aria-label","Hide password")("aria-pressed",r.hide),n.xp6(2),n.Oqu(r.hide?"visibility_off":"visibility"),n.xp6(1),n.Q6J("disabled",!r.form.valid),n.xp6(1),n.hij(" ",t("auth.login.btn")," ")}}let S=(()=>{class o{constructor(t,r){this.authDataService=t,this.loginService=r,this.hide=!0,this.form=new i.cw({login:new i.NI("",[i.kI.required,i.kI.minLength(3)]),password:new i.NI("",[i.kI.required,i.kI.minLength(8)])})}get login(){return this.form.get("login")}get password(){return this.form.get("password")}onSubmit(){const t={login:this.form.value.login?.trim(),password:this.form.value.password};this.loginService.logIn(t)}}return o.\u0275fac=function(t){return new(t||o)(n.Y36(d.p),n.Y36(_.r))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-login"]],decls:1,vars:0,consts:[["class","container",3,"formGroup",4,"transloco"],[1,"container",3,"formGroup"],["appearance","fill",1,"field"],["matInput","","type","text","formControlName","login",3,"placeholder"],[4,"ngIf"],["appearance","standard",1,"field"],["matInput","","type","password","formControlName","password",3,"type"],["type","button","mat-icon-button","","matSuffix","",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"]],template:function(t,r){1&t&&n.YNc(0,b,14,11,"form",0)},dependencies:[c.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,m.KI,h.lW,s.TO,s.KE,s.hX,s.R9,x.Nt,v.Hw],styles:[".container[_ngcontent-%COMP%]{margin-top:20px;display:flex;flex-direction:column;background-color:#fff}mat-form-field.field[_ngcontent-%COMP%]{width:320px}"]}),o})();var J=l(5095);function A(o,e){if(1&o&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&o){const t=n.oxw(2).$implicit;n.xp6(1),n.Oqu(t("forms.errors.enterName"))}}function N(o,e){if(1&o&&(n.TgZ(0,"div"),n._uU(1),n.qZA()),2&o){const t=n.oxw(2).$implicit;n.xp6(1),n.hij(" ",t("forms.errors.lengthName")," ")}}function y(o,e){if(1&o&&(n.TgZ(0,"mat-error"),n.YNc(1,A,2,1,"span",4),n.YNc(2,N,2,1,"div",4),n.qZA()),2&o){const t=n.oxw(2);n.xp6(1),n.Q6J("ngIf",null==t.name||null==t.name.errors?null:t.name.errors.required),n.xp6(1),n.Q6J("ngIf",null==t.name||null==t.name.errors?null:t.name.errors.minlength)}}function q(o,e){if(1&o&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&o){const t=n.oxw(2).$implicit;n.xp6(1),n.Oqu(t("forms.errors.enterLogin"))}}function Q(o,e){if(1&o&&(n.TgZ(0,"div"),n._uU(1),n.qZA()),2&o){const t=n.oxw(2).$implicit;n.xp6(1),n.hij(" ",t("forms.errors.lengthLogin")," ")}}function L(o,e){if(1&o&&(n.TgZ(0,"mat-error"),n.YNc(1,q,2,1,"span",4),n.YNc(2,Q,2,1,"div",4),n.qZA()),2&o){const t=n.oxw(2);n.xp6(1),n.Q6J("ngIf",null==t.login||null==t.login.errors?null:t.login.errors.required),n.xp6(1),n.Q6J("ngIf",null==t.login||null==t.login.errors?null:t.login.errors.minlength)}}function Y(o,e){if(1&o&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&o){const t=n.oxw(2).$implicit;n.xp6(1),n.Oqu(t("forms.errors.enterPass"))}}function k(o,e){if(1&o&&(n.TgZ(0,"div"),n._uU(1),n.qZA()),2&o){const t=n.oxw(2).$implicit;n.xp6(1),n.hij(" ",t("forms.errors.lengthPass")," ")}}function O(o,e){if(1&o&&(n.TgZ(0,"mat-error"),n.YNc(1,Y,2,1,"span",4),n.YNc(2,k,2,1,"div",4),n.qZA()),2&o){const t=n.oxw(2);n.xp6(1),n.Q6J("ngIf",null==t.password||null==t.password.errors?null:t.password.errors.required),n.xp6(1),n.Q6J("ngIf",null==t.password||null==t.password.errors?null:t.password.errors.minlength)}}function P(o,e){if(1&o){const t=n.EpF();n.TgZ(0,"form",1)(1,"mat-form-field",2),n._UZ(2,"input",3),n.YNc(3,y,3,2,"mat-error",4),n.qZA(),n.TgZ(4,"mat-form-field",2),n._UZ(5,"input",5),n.YNc(6,L,3,2,"mat-error",4),n.qZA(),n.TgZ(7,"mat-form-field",2),n._UZ(8,"input",6),n.TgZ(9,"button",7),n.NdJ("click",function(){n.CHM(t);const a=n.oxw();return n.KtG(a.hide=!a.hide)}),n.TgZ(10,"mat-icon"),n._uU(11),n.qZA()(),n.YNc(12,O,3,2,"mat-error",4),n.qZA(),n.TgZ(13,"button",8),n.NdJ("click",function(){n.CHM(t);const a=n.oxw();return n.KtG(a.onSubmit())}),n._uU(14),n.qZA()()}if(2&o){const t=e.$implicit,r=n.oxw();n.Q6J("formGroup",r.form),n.xp6(2),n.Q6J("placeholder",t("auth.singUp.name-plh")),n.xp6(1),n.Q6J("ngIf",null==r.name?null:r.name.invalid),n.xp6(2),n.Q6J("placeholder",t("auth.singUp.login-plh")),n.xp6(1),n.Q6J("ngIf",null==r.login?null:r.login.invalid),n.xp6(2),n.Q6J("type",r.hide?"password":"text")("placeholder",t("auth.singUp.password-plh")),n.xp6(1),n.uIk("aria-label","Hide password")("aria-pressed",r.hide),n.xp6(2),n.Oqu(r.hide?"visibility_off":"visibility"),n.xp6(1),n.Q6J("ngIf",null==r.password?null:r.password.invalid),n.xp6(1),n.Q6J("disabled",!r.form.valid),n.xp6(1),n.hij(" ",t("auth.singUp.btn")," ")}}let j=(()=>{class o{constructor(t,r,a){this.authDataService=t,this.loginService=r,this.notificationService=a,this.hide=!0,this.form=new i.cw({name:new i.NI("",[i.kI.required,i.kI.minLength(3)]),login:new i.NI("",[i.kI.required,i.kI.minLength(3)]),password:new i.NI("",[i.kI.required,i.kI.minLength(8)])})}get name(){return this.form.get("name")}get login(){return this.form.get("login")}get password(){return this.form.get("password")}onSubmit(){this.authDataService.signUp({name:this.form.value.name,login:this.form.value.login,password:this.form.value.password}).subscribe({next:()=>{this.loginService.logIn({login:this.form.value.login,password:this.form.value.password})},error:r=>{this.notificationService.showError("Undocumented"===r.statusText?"errorHandling.loginError":"Conflict"===r.statusText?"errorHandling.loginConflict":"errorHandling.something")}})}}return o.\u0275fac=function(t){return new(t||o)(n.Y36(d.p),n.Y36(_.r),n.Y36(J.g))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-sing-up"]],decls:1,vars:0,consts:[["class","container",3,"formGroup",4,"transloco"],[1,"container",3,"formGroup"],["appearance","fill",1,"field"],["matInput","","type","text","formControlName","name",3,"placeholder"],[4,"ngIf"],["matInput","","type","text","formControlName","login",3,"placeholder"],["matInput","","formControlName","password",3,"type","placeholder"],["type","button","mat-icon-button","","matSuffix","",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"]],template:function(t,r){1&t&&n.YNc(0,P,15,13,"form",0)},dependencies:[c.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,m.KI,h.lW,s.TO,s.KE,s.R9,x.Nt,v.Hw],styles:[".container[_ngcontent-%COMP%]{margin-top:20px;display:flex;flex-direction:column;background-color:#fff}mat-form-field.field[_ngcontent-%COMP%]{width:320px}"]}),o})();function M(o,e){if(1&o&&(n.TgZ(0,"div",1)(1,"mat-tab-group",2)(2,"mat-tab",3),n._UZ(3,"app-login"),n.qZA(),n.TgZ(4,"mat-tab",3),n._UZ(5,"app-sing-up"),n.qZA()()()),2&o){const t=e.$implicit,r=n.oxw();n.xp6(1),n.Q6J("selectedIndex",r.tabIndex),n.xp6(1),n.Q6J("label",t("auth.login-label")),n.xp6(2),n.Q6J("label",t("auth.singUp-label"))}}let $=(()=>{class o{constructor(t){this.route=t}ngOnInit(){this.subs=this.route.params.subscribe(t=>{"login"===t.tab?this.tabIndex=p.Login:"signup"===t.tab&&(this.tabIndex=p.SignUp)})}}return o.\u0275fac=function(t){return new(t||o)(n.Y36(g.gz))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-auth-page"]],decls:1,vars:0,consts:[["class","wrapper",4,"transloco"],[1,"wrapper"],["mat-align-tabs","center","animationDuration","0ms",1,"container",3,"selectedIndex"],[3,"label"]],template:function(t,r){1&t&&n.YNc(0,M,6,3,"div",0)},dependencies:[m.KI,f.SP,f.uX,S,j],styles:[".wrapper[_ngcontent-%COMP%]{width:100vw;min-height:calc(100vh - 122px);display:flex;align-items:center;justify-content:center;background-image:url(dark-fon.3c1d344db7be14b5.jpg);background-size:cover}.container[_ngcontent-%COMP%]{background-color:#fff;padding:25px;border-radius:10px}"]}),o})();var H=l(3286);const G=[{path:"",component:$}];let F=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[c.ez,g.Bz.forChild(G),i.UX,m.y4,H.S]}),o})()}}]);