<div class="wrapper" *transloco="let t">
  <div class="modal-container">
    <div class="personal-information">
      <img src="./assets/icons/user-image-png.png" />
      <div class="user-data">
        <h3 class="user-name">
          Your current name:
          <span>{{ currentUserData.userName }}</span>
        </h3>
        <h3 class="user-login">
          Your current login:
          <span>{{ currentUserData.userLogin }}</span>
        </h3>
      </div>
    </div>
    <form [formGroup]="form">
      <mat-accordion>
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title> Change user name </mat-panel-title>
          </mat-expansion-panel-header>
          <mat-form-field appearance="fill">
            <mat-label>Enter new name</mat-label>
            <input
              matInput
              type="text"
              formControlName="name"
              name="userName"
            />
            <button
              *ngIf="name.value"
              matSuffix
              mat-icon-button
              aria-label="Clear"
              (click)="name.setValue('')"
            >
              <mat-icon>close</mat-icon>
            </button>
            <mat-error *ngIf="name.invalid">
              <span *ngIf="name.errors?.['required']">{{
                t("forms.errors.enterName")
              }}</span>
              <div *ngIf="name.errors?.['minlength']">
                {{ t("forms.errors.lengthName") }}
              </div>
            </mat-error>
          </mat-form-field>

          <mat-action-row>
            <button
              mat-raised-button
              class="btn"
              [disabled]="!name.valid"
              (click)="nextStep()"
            >
              Submit
            </button>
          </mat-action-row>
        </mat-expansion-panel>
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title> Change user login </mat-panel-title>
          </mat-expansion-panel-header>
          <mat-form-field appearance="fill">
            <mat-label>Enter new login</mat-label>
            <input
              matInput
              type="text"
              formControlName="login"
              name="userLogin"
            />
            <button
              *ngIf="login.value"
              matSuffix
              mat-icon-button
              aria-label="Clear"
              (click)="login.setValue('')"
            >
              <mat-icon>close</mat-icon>
            </button>
            <mat-error *ngIf="login.invalid">
              <span *ngIf="login.errors?.['required']">{{
                t("forms.errors.enterLogin")
              }}</span>
              <div *ngIf="login.errors?.['minlength']">
                {{ t("forms.errors.lengthLogin") }}
              </div>
            </mat-error>
          </mat-form-field>

          <mat-action-row>
            <button
              mat-raised-button
              class="btn"
              [disabled]="!login.valid"
              (click)="nextStep()"
            >
              Submit
            </button>
          </mat-action-row>
        </mat-expansion-panel>
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title> Change user password </mat-panel-title>
          </mat-expansion-panel-header>
          <mat-form-field appearance="fill">
            <mat-label>Enter new password</mat-label>
            <input matInput formControlName="password" />
          </mat-form-field>
          <mat-error *ngIf="password.invalid">
            <span *ngIf="password.errors?.['required']">{{
              t("forms.errors.enterPass")
            }}</span>
            <div *ngIf="password.errors?.['minlength']">
              {{ t("forms.errors.lengthPass") }}
            </div>
          </mat-error>
          <mat-action-row>
            <button
              mat-raised-button
              class="btn"
              [disabled]="!password.valid"
              (click)="nextStep()"
            >
              Submit
            </button>
          </mat-action-row>
        </mat-expansion-panel>
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title> Delete user profile </mat-panel-title>
          </mat-expansion-panel-header>
          <p class="text-warning">Here you can delete your profile</p>
          <mat-action-row>
            <button mat-raised-button color="warn" (click)="nextStep()">
              Delete
            </button>
          </mat-action-row>
        </mat-expansion-panel>
      </mat-accordion>
    </form>
  </div>
</div>
